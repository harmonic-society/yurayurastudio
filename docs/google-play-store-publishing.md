# Google Play ストアに公開するためのガイド

このドキュメントでは、Yura Yura STUDIOアプリをGoogle Play ストアに公開するための詳細な手順を説明します。

## 1. 準備

### 1.1 開発者アカウントの登録

1. [Google Play Console](https://play.google.com/console/signup)にアクセスします。
2. Googleアカウントでログインします。
3. $25（一回限りの登録料）を支払います。
4. 開発者情報を入力します：
   - 開発者名（Harmonic Society株式会社）
   - メールアドレス
   - 電話番号
   - 住所

### 1.2 税務および銀行情報の登録

1. Google Play Consoleの「設定」 > 「支払いプロファイル」にアクセスします。
2. 税務情報と銀行口座情報を登録します。

### 1.3 アプリケーションのリリースビルド準備

以下のスクリプトを順に実行して、リリースビルドを準備します：

```bash
# 1. リリース準備スクリプトを実行
./prepare-android-release.sh

# 2. リリースビルドスクリプトを実行
./build-android-release.sh
```

## 2. Google Play Consoleでの新規アプリ作成

### 2.1 アプリの作成

1. Google Play Consoleにログインし、「すべてのアプリ」ページで「アプリを作成」をクリックします。
2. 以下の情報を入力します：
   - アプリの名前: Yura Yura STUDIO
   - デフォルト言語: 日本語
   - アプリまたはゲーム: アプリ
   - 有料または無料: 無料
   - 宣言事項に同意

### 2.2 ストア掲載情報の入力

「ストア掲載情報」セクションで以下の項目を入力します：

1. **アプリの詳細**:
   - アプリの名前: Yura Yura STUDIO
   - 短い説明（80文字以内）
   - 詳細な説明（4,000文字以内）

2. **グラフィックアセット**:
   - アイコン（512x512 px）
   - フィーチャーグラフィック（1024x500 px）
   - スクリーンショット（各デバイスタイプ用）

3. **カテゴリとタグ**:
   - カテゴリ: ビジネス（主）、仕事効率化（副）
   - タグ（最大5つ）

4. **連絡先情報**:
   - メールアドレス
   - ウェブサイト
   - 電話番号

5. **プライバシーポリシー**:
   - プライバシーポリシーのURL

## 3. アプリのセットアップと公開準備

### 3.1 コンテンツレーティングの設定

1. 「コンテンツレーティング」セクションにアクセスします。
2. アンケートに回答します（暴力、性的コンテンツ、言語、薬物など）。
3. レーティングを取得し、確認します。

### 3.2 ターゲットオーディエンスの設定

1. 「ターゲットオーディエンス」セクションにアクセスします。
2. 対象年齢層を選択します（全年齢向けの場合は「全年齢」）。
3. アプリが子供向けかどうかを指定します（いいえ）。

### 3.3 ストアの設定

1. **価格と配信**:
   - 配信国・地域を選択（日本のみ、または複数国）
   - 価格（無料）を確認

2. **アプリのカテゴリとタグ**:
   - アプリタイプとカテゴリを選択
   - タグを追加

### 3.4 アプリアクセス権の設定

「アプリのアクセス権」セクションでは、アプリが以下のいずれかに該当するか確認します：

- 限定公開テスト
- 特別なアクセス権を持つユーザー向け
- 一般公開

一般公開の場合、追加情報は不要です。

## 4. ビルドのアップロードと公開

### 4.1 Android App Bundle（AAB）のアップロード

1. 「プロダクション」トラックを選択します。
2. 「新しいリリースを作成」をクリックします。
3. リリースビルドで生成したAABファイル（`yurayurastudio-[バージョン]-[日付].aab`）をアップロードします。

### 4.2 リリースノートの入力

1. リリースノートを入力します（新機能、改善点、バグ修正など）。
2. 「保存」をクリックします。

### 4.3 公開の開始

1. アップロードしたリリースの詳細を確認します。
2. 「レビューを開始」をクリックします。
3. Google Playによるレビューが完了するまで待ちます（通常1〜3日）。

## 5. アプリの審査と公開後の管理

### 5.1 審査プロセス

Google Playによる審査では、以下の点がチェックされます：

- ポリシー違反がないか
- セキュリティ上の問題がないか
- パフォーマンスや安定性の問題がないか

### 5.2 審査結果への対応

審査結果は以下のいずれかになります：

1. **承認**: アプリが公開されます。
2. **拒否**: 修正が必要な問題が提示されます。

拒否された場合は、指摘された問題を修正し、新しいバージョンをアップロードして再審査を受けます。

### 5.3 公開後の管理

アプリが公開された後は、以下の作業を行います：

1. **パフォーマンスの監視**:
   - クラッシュレポートの確認
   - ANRs（アプリが応答しない）の確認
   - ユーザーレビューの確認

2. **アップデートの計画**:
   - バグ修正
   - 新機能の追加
   - パフォーマンスの改善

## 6. アプリのアップデート手順

### 6.1 バージョン番号の更新

`android/app/build.gradle` ファイル内のバージョン情報を更新します：

```gradle
defaultConfig {
    // ...
    versionCode 2    // 前回より大きい整数値に増やす
    versionName "1.0.1"  // セマンティックバージョニングに従って更新
    // ...
}
```

### 6.2 リリースビルドの作成

前述のリリースビルドスクリプトを実行して、新しいバージョンのビルドを作成します：

```bash
./prepare-android-release.sh
./build-android-release.sh
```

### 6.3 Google Play Console へのアップロード

1. Google Play Consoleで既存のアプリを選択します。
2. 「プロダクション」トラックを選択します。
3. 「新しいリリースを作成」をクリックします。
4. 新しいAABファイルをアップロードします。
5. リリースノートを入力します。
6. 「レビューを開始」をクリックします。

## 7. トラブルシューティング

### 7.1 一般的な審査拒否の理由と対策

#### メタデータの問題
- **解決策**: スクリーンショットやアプリ説明がポリシーに違反していないか確認します。

#### クラッシュやANR
- **解決策**: 徹底的なテストを行い、すべての主要機能が正常に動作することを確認します。

#### 権限の過剰要求
- **解決策**: アプリに必須の権限のみを要求します。

#### プライバシーポリシーの不備
- **解決策**: プライバシーポリシーが明確で包括的であることを確認します。

### 7.2 AABアップロード時の問題

#### 署名の不一致
- **解決策**: 同じキーストアとキーでアプリに署名します。キーストアを紛失した場合は、アプリの新バージョンを別のアプリとして公開する必要があります。

#### パッケージ名の競合
- **解決策**: 他のアプリと同じパッケージ名を使用していないことを確認します。

## 8. その他の留意事項

### 8.1 Google Play ポリシー遵守

常に最新の[Google Play ポリシー](https://play.google.com/about/developer-content-policy/)を確認し、遵守してください。

### 8.2 ユーザーのフィードバック対応

- ユーザーレビューに定期的に返信します。
- ユーザーからのフィードバックを積極的に取り入れます。

### 8.3 プロモーションとマーケティング

- アプリのASO（App Store Optimization）を行います。
- キーワードの最適化、良質なスクリーンショット、魅力的な説明文を用意します。